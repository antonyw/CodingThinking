# InnoDB 如何实现并发控制

## 做并发控制无非两点
- 锁
- 数据多版本

### 锁
普通锁语义：
1. 操作数据前，先锁住，实施互斥，不允许其他并发操作目标数据。
2. 操作完成后，释放锁，让其他任务执行。

#### 存在的问题
普通锁语义太过粗暴，连读操作也会阻塞，任务执行本质是串行化的。

于是**共享锁和排它锁**出现了：
- 共享锁（Share Lock，也成为S锁），读取数据加S锁
- 排它锁（Exclusive Lock，也成为X锁），修改数据时加X锁

两者搭配：
- 共享锁之间不互斥，读读可以并行
- 排它锁与任何锁互斥，写读、写写不可并行